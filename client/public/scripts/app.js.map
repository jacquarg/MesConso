{"version":3,"file":"public/scripts/app.js","sources":["app/application.js","app/collections/receiptdetails.js","app/collections/receipts.js","app/initialize.js","app/models/receipt.js","app/models/receiptdetail.js","app/router.js","app/templates/home.jade","app/templates/intermarche.jade","app/templates/intermarchewsubs.jade","app/templates/receipt.jade","app/templates/receiptdetail.jade","app/views/app_view.js","app/views/intermarche.js","app/views/intermarchewsubs.js","app/views/receipt.js","app/views/receiptdetail.js","app/views/section.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AALA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AALA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AALA;;A,CCAA;;AACA;AACA;AACA;AAHA;;A,CCAA;;AACA;AACA;AACA;AAHA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlDA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/BA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArDA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3CA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtCA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhCA;;A","sourcesContent":["module.exports = {\n\n    initialize: function() {\n        var Router = require('router');\n        this.router = new Router();\n        Backbone.history.start();\n    }\n};","ReceiptDetail = require('../models/receiptdetail');\nmodule.exports = ReceiptDetails = Backbone.Collection.extend({\n    model: ReceiptDetail,\n    url: 'receiptdetails'\n});\n","Receipt = require('../models/receipt');\nmodule.exports = ReceiptDetails = Backbone.Collection.extend({\n    model: Receipt,\n    url: 'receipts'\n})\n","// The function called from index.html\n$(document).ready(function() {\n    var app = require('application');\n    app.initialize()\n});\n","module.exports = Receipt = Backbone.Model.extend({\n\n})\n","module.exports = ReceiptDetail = Backbone.Model.extend({\n\n});\n","var AppView = require('views/app_view');\n//var ReceiptDetailCollection = require('collections/receiptdetails');\n\n//var receiptDetails = new ReceiptDetailCollection();\n\nmodule.exports = Router = Backbone.Router.extend({\n\n    routes: {\n        '': 'main'\n    },\n\n    main: function() {\n        var mainView = new AppView({\n  //          collection: receiptDetails\n        });\n        mainView.render();\n    }\n});\n","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<div class=\"container\"><h1 id=\"test1\">Test1</h1><h1 id=\"test2\">Mes caddies !</h1><div id=\"content\"></div></div>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<div id=\"list\" class=\"row\"></div>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<div id=\"list\" class=\"row\"><p>');\nvar __val__ = receipts\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</p></div>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<div class=\"col-md-12\"><h2>');\nvar __val__ = receipt.timestamp\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</h2>&nbsp;');\nvar __val__ = receipt.ticketId\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('<div class=\"thumbnail row\">');\n for(var i1 in receipt.sections) {\n   var section = receipt.sections[i1];\nbuf.push('<div class=\"col-md-10 col-md-offset-1\"><h3>');\nvar __val__ = section.sectionLabel\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</h3><div class=\"row\">');\n for (var i2 in section.receiptDetails) {\n   var receiptDetail = section.receiptDetails[i2];\nbuf.push('<div class=\"col-md-6\"><div class=\"thumbnail row\"><div class=\"col-md-2 text-center\"><img');\nbuf.push(attrs({ 'src':('http://drive.intermarche.com/ressources/images/produit/vignette/0' + (receiptDetail.barcode) + '.jpg'), 'receiptDetail.barcode':(true), \"class\": ('img-responsive') }, {\"src\":true,\"receiptDetail.barcode\":true}));\nbuf.push('/><h4>');\nvar __val__ = receiptDetail.price\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</h4>&nbsp;€</div><div class=\"col-md-10\"><h4>');\nvar __val__ = receiptDetail.label\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</h4><p>');\nvar __val__ = receiptDetail.sectionLabel \nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('&gt;');\nvar __val__ = receiptDetail.familyLabel\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('&gt;<small>');\nvar __val__ = receiptDetail.barcode\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</small></p><p>');\nvar __val__ = receiptDetail.amount \nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('X , Le');\nvar __val__ = receiptDetail.timestamp\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</p></div></div></div>');\n }\nbuf.push('</div></div>');\n }\nbuf.push('</div></div>');\n}\nreturn buf.join(\"\");\n};","module.exports = function anonymous(locals, attrs, escape, rethrow, merge) {\nattrs = attrs || jade.attrs; escape = escape || jade.escape; rethrow = rethrow || jade.rethrow; merge = merge || jade.merge;\nvar buf = [];\nwith (locals || {}) {\nvar interp;\nbuf.push('<div class=\"col-md-6\"><div class=\"thumbnail row\"><div class=\"col-md-2 text-center\"><img');\nbuf.push(attrs({ 'src':('http://drive.intermarche.com/ressources/images/produit/vignette/0' + (receiptDetail.barcode) + '.jpg'), 'receiptDetail.barcode':(true), \"class\": ('img-responsive') }, {\"src\":true,\"receiptDetail.barcode\":true}));\nbuf.push('/><h4>');\nvar __val__ = receiptDetail.price\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</h4>&nbsp;€</div><div class=\"col-md-10\"><h4>');\nvar __val__ = receiptDetail.label\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</h4><p>');\nvar __val__ = receiptDetail.sectionLabel \nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('&gt;');\nvar __val__ = receiptDetail.familyLabel\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('&gt;<small>');\nvar __val__ = receiptDetail.barcode\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</small></p><p>');\nvar __val__ = receiptDetail.amount \nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('X , Le');\nvar __val__ = receiptDetail.timestamp\nbuf.push(escape(null == __val__ ? \"\" : __val__));\nbuf.push('</p></div></div></div>');\n}\nreturn buf.join(\"\");\n};","var IntermarcheView = require('./intermarche');\nvar IntermarcheWSubsView = require('./intermarchewsubs');\nvar ReceiptDetailCollection = require('collections/receiptdetails');\nvar ReceiptCollection = require('collections/receipts');\n\n\n\nmodule.exports = AppView = Backbone.View.extend({\n\n    el: 'body',\n    template: require('../templates/home'),\n\n    // initialize is automatically called once after the view is constructed\n    initialize: function() {\n        console.log(\"Initialize\")\n    },\n    events: {\n        \"click #test1\": \"getList\",\n        \"click #test2\": \"getTruc\"\n    },\n    \n    getList: function() {\n        var receiptDetails = new ReceiptDetailCollection();\n        intermarcheView = new IntermarcheView({\n            collection: receiptDetails\n        });\n\n        intermarcheView.render()\n        this.$el.find('#content').append(intermarcheView.$el);\n        \n    },\n\n    getTruc: function() {\n        var receipts = new ReceiptCollection();\n        intermarcheView = new IntermarcheWSubsView({\n            collection: receipts\n        });\n\n        intermarcheView.render()\n        this.$el.find('#content').append(intermarcheView.$el);\n\n    },\n\n    render: function() {\n\n        // we render the template\n        this.$el.html(this.template());\n\n        // fetch the bookmarks from the database\n       // this.collection.fetch();\n    },\n\n});\n","var ReceiptDetailView = require('./receiptdetail');\n\nmodule.exports = IntermarcheView = Backbone.View.extend({\n\n    el: '#content',\n    template: require('../templates/intermarche'),\n\n    // initialize is automatically called once after the view is constructed\n    initialize: function() {\n        console.log(\"Initialize intermarche\")\n        this.listenTo(this.collection, \"add\", this.onReceiptDetailAdded);\n    },\n\n    render: function() {\n\n        // we render the template\n        this.$el.html(this.template());\n\n        // fetch the bookmarks from the database\n        this.collection.fetch();\n    },\n\n\n    onReceiptDetailAdded: function(receiptDetail) {\n        // render the specific element\n        receiptDetailView = new ReceiptDetailView({\n            model: receiptDetail\n        });\n        receiptDetailView.render();\n        this.$el.find('#list').append(receiptDetailView.$el);\n    }\n\n});\n\n","var ReceiptView = require('./receipt');\n\nmodule.exports = AppView = Backbone.View.extend({\n\n    el: '#content',\n    template: require('../templates/intermarche'),\n\n    /*render: function() {\n        this.$el.html(this.template({\n            receipts: this.collection.toJSON()\n        }));\n\n        return this;\n    }*/\n\n\n    // initialize is automatically called once after the view is constructed\n    initialize: function() {\n        console.log(\"Initialize intermarcheWSUBS\")\n        this.listenTo(this.collection, \"add\", this.onReceiptAdded);\n    },\n\n    render: function() {\n\n        // we render the template\n        this.$el.html(this.template());\n\n        // fetch the bookmarks from the database\n        this.collection.fetch();\n    },\n\n\n    onReceiptAdded: function(receipt) {\n        // render the specific element\n        receiptView = new ReceiptView({\n            model: receipt\n        });\n        receiptView.render();\n        this.$el.find('#list').append(receiptView.$el);\n    }\n\n\n});\n","//var SectionView = require('./section');\n\nmodule.exports = Receipt = Backbone.View.extend({\n\n    tagName: 'div',\n    template: require('../templates/receipt'),\n    \n    render: function() {\n        this.$el.html(this.template({\n            receipt: this.model.toJSON()\n        }));\n    }\n\n    /*render: function() {\n\n        // we render the template\n        this.$el.html(this.template(\n            {\n                receipt: JSON.dumps(this.receipt)\n            }\n            )\n        );\n\n        for (var idx=0; idx<this.receipt.sections.length; idx++) {\n            receiptDetail = this.receipt.sections[idx];\n\n            // render the specific element\n            sectionView = new SectionView({\n                section: section\n            });\n\n            sectionView.render();\n            this.$el.find('#list').append(receiptDetailView.$el);\n        }\n     }*/\n\n});\n\n","module.exports = ReceiptDetail = Backbone.View.extend({\n\n    tagName: 'div',\n    template: require('../templates/receiptdetail'),\n//    events: {\n//        'click a.delete': 'deleteBookmark'\n//    },\n\n    render: function() {\n        this.$el.html(this.template({\n            receiptDetail: this.model.toJSON()\n        }));\n    },\n\n//    deleteBookmark: function() {\n//        this.model.destroy();\n//        this.remove();\n//    }\n});\n","var ReceiptDetailView = require('./receiptdetail');\n\nmodule.exports = Section = Backbone.View.extend({\n\n    tagName: 'div',\n    template: require('../templates/section'),\n    \n    render: function() {\n\n        // we render the template\n        this.$el.html(this.template(\n            {\n                section: JSON.dumps(this.section)\n            }\n            )\n        );\n\n        for (var idx=0; idx<this.section.receiptDetails.length; idx++) {\n            receiptDetail = this.section.receiptDetails[idx];\n\n            // render the specific element\n            receiptDetailView = new ReceiptDetailView({\n                model: receiptDetail\n            });\n\n            receiptDetailView.render();\n            this.$el.find('#list').append(receiptDetailView.$el);\n        }\n     }\n\n});\n\n"]}